define("css!src/tree/CirclePacking",[],function(){}),function(t,e){"function"==typeof define&&define.amd?define("src/tree/CirclePacking",["d3","../common/SVGWidget","../api/ITree","../common/Text","../common/FAChar","css!./CirclePacking"],e):t.tree_CirclePacking=e(t.d3,t.common_SVGWidget,t.api_ITree,t.common_Text,t.common_FAChar)}(this,function(t,e,i,n,r){function a(t){e.call(this),i.call(this)}return a.prototype=Object.create(e.prototype),a.prototype.constructor=a,a.prototype._class+=" tree_CirclePacking",a.prototype["implements"](i.prototype),a.prototype.publish("paletteID","default","set","Palette ID",a.prototype._palette["switch"](),{tags:["Basic","Shared"]}),a.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),a.prototype.enter=function(e,i){this.diameter=Math.min(this.width(),this.height()),this.pack=t.layout.pack().size([this.diameter-4,this.diameter-4]).value(function(t){return 1}),this.svg=i.append("g").attr("transform","rotate(30)")},a.prototype.update=function(e,i){var n=this;this._palette=this._palette["switch"](this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id())),this.svg.selectAll("circle").remove(),this.svg.selectAll("text").remove();var r=this.data(),a=r,o=this.pack.nodes(r);this.circle=this.svg.selectAll("circle").data(o).enter().append("circle").attr("class",function(t){return t.parent?t.children?"node":"node leaf":"node root"}).style("fill",function(t){return n._palette(t.label)}).on("click",function(t){n.click(t)}).on("dblclick",function(e){a!==e&&n.zoom(e),t.event.stopPropagation()}),this.circle.append("title").text(function(t){return t.label}),this.svg.selectAll("text").data(o).enter().append("text").attr("class","label").style("fill-opacity",function(t){return t.parent===r?1:0}).style("display",function(t){return t.parent===r?null:"none"}).text(function(t){return t.label}),this.node=this.svg.selectAll("circle,text"),this.zoomTo([r.x,r.y,2*r.r])},a.prototype.zoom=function(e){var i=this,n=e;this.svg.selectAll("circle").filter(function(t){return t===n});var r=this.svg.selectAll("text").filter(function(t){return t!==n&&"inline"===this.style.display});r.transition().duration(500).style("opacity",0).each("end",function(e){e!==n&&t.select(this).style("display","none").style("opacity",1)});var a=this.svg.transition().duration(1e3).tween("zoom",function(e){var r=t.interpolateZoom(i.view,[n.x,n.y,2*n.r]);return function(t){i.zoomTo(r(t))}});a.selectAll("text").filter(function(t){return t.parent===n||"inline"===this.style.display}).style("fill-opacity",function(t){return t.parent===n?1:0}).each("start",function(t){t.parent===n&&(this.style.display="inline")}).each("end",function(t){t.parent!==n&&(this.style.display="none")})},a.prototype.zoomTo=function(t){var e=this.diameter/t[2];this.view=t,this.node.attr("transform",function(i){return"translate("+(i.x-t[0])*e+","+(i.y-t[1])*e+")rotate(-30)"}),this.circle.attr("r",function(t){return t.r*e})},a}),define("css!src/tree/Dendrogram",[],function(){}),function(t,e){"function"==typeof define&&define.amd?define("src/tree/Dendrogram",["d3","../common/SVGWidget","../api/ITree","css!./Dendrogram"],e):t.tree_Dendrogram=e(t.d3,t.common_SVGWidget,t.api_ITree)}(this,function(t,e,i){function n(t){e.call(this),i.call(this),this._drawStartPos="origin",this._maxTextWidth=0}return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype._class+=" tree_Dendrogram",n.prototype["implements"](i.prototype),n.prototype.publish("paletteID","default","set","Palette ID",n.prototype._palette["switch"](),{tags:["Basic","Shared"]}),n.prototype.publish("textOffset",8,"number","Text offset from circle",null,{tags:["Private"]}),n.prototype.publish("orientation","horizontal","set","Orientation",["horizontal","vertical"],{tags:["Private"]}),n.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),n.prototype.enter=function(i,n){e.prototype.enter.apply(this,arguments);var r=this;this.layout=t.layout.cluster(),this.diagonal=t.svg.diagonal().projection(function(t){return"horizontal"===r.orientation()?[t.y,t.x]:[t.x,t.y]})},n.prototype.update=function(i,n,r){var a=this;e.prototype.update.apply(this,arguments),this._palette=this._palette["switch"](this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id())),this.x(this._maxTextWidth);var o=this.width()-2*this._maxTextWidth;"horizontal"===this.orientation()?this.layout.size([this.height(),o]):this.layout.size([o,this.height()]);var s=this.layout.nodes(this.data()),l=this.layout.links(s),c=n.selectAll(".link").data(l);c.enter().append("path").attr("class","link"),c.attr("d",this.diagonal),c.exit().remove();var h=n.selectAll(".node").data(s);h.enter().append("g").attr("class","node").on("click",function(t){a.click(t)}).each(function(e){var i=t.select(this);i.append("circle"),i.append("text")});var p=0;h.attr("transform",function(t){return"horizontal"===a.orientation()?"translate("+t.y+","+t.x+")":"translate("+t.x+","+t.y+")"}),h.select("circle").attr("r",4.5).style("fill",function(t){return a._palette(t.label)}).append("title").text(function(t){return t.label}),h.select("text").style("text-anchor",function(t){return t.children?"end":"start"}).attr("dx",function(t){return t.children?-a.textOffset():a.textOffset()}).attr("dy",3).text(function(t){return t.label}).each(function(e){if(!r){var i=t.select(this).node().getBBox();i.width>p&&(p=i.width)}}),p+=this.textOffset(),h.exit().remove(),r||this._maxTextWidth===p||(this._maxTextWidth=p,this.update(i,n,!0))},n}),define("css!src/tree/SunburstPartition",[],function(){}),function(t,e){"function"==typeof define&&define.amd?define("src/tree/SunburstPartition",["d3","../common/SVGWidget","../api/ITree","../common/Text","../common/FAChar","css!./SunburstPartition"],e):t.tree_SunburstPartition=e(t.d3,t.common_SVGWidget,t.api_ITree,t.common_Text,t.common_FAChar)}(this,function(t,e,i,n,r){function a(t){e.call(this),i.call(this)}return a.prototype=Object.create(e.prototype),a.prototype.constructor=a,a.prototype._class+=" tree_SunburstPartition",a.prototype["implements"](i.prototype),a.prototype.publish("paletteID","default","set","Palette ID",a.prototype._palette["switch"](),{tags:["Basic","Shared"]}),a.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),a.prototype.root=function(t){return arguments.length?(this._root=t,this.svg&&this.svg.selectAll("path").transition().duration(750).attrTween("d",this.arcTweenFunc(this._root)),this):this._root||this.data()},a.prototype.data=function(){var t=e.prototype.data.apply(this,arguments);return arguments.length&&(this._resetRoot=!0),t},a.prototype.enter=function(e,i){var n=this;this.radius=Math.min(this.width(),this.height())/2,this._xScale=t.scale.linear().range([0,2*Math.PI]),this._yScale=t.scale.sqrt().range([0,this.radius]),this.partition=t.layout.partition().value(function(t){return void 0!==t.value?t.value:1}),this.arc=t.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,n._xScale(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,n._xScale(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,n._yScale(t.y))}).outerRadius(function(t){return Math.max(0,n._yScale(t.y+t.dy))}),this.svg=i.append("g")},a.prototype.update=function(e,i){function n(e){t.event&&t.event.stopPropagation(),r.root(e)}var r=this;this._palette=this._palette["switch"](this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id())),this.radius=Math.min(this.width(),this.height())/2,this._xScale.range([0,2*Math.PI]),this._yScale.range([0,this.radius]),this._dataNodes=this.partition.nodes(this.data());var a=this.svg.selectAll("path").data(this._dataNodes,function(t,e){return void 0!==t.id?t.id:e});a.enter().append("path").on("click",function(t){r.click(t)}).on("dblclick",n).append("title"),a.attr("d",this.arc).style("fill",function(t){return t.__viz_fill?t.__viz_fill:r._palette(t.label)}).style("stroke",function(t){return t.value>16?"white":"none"}).select("title").text(function(t){return t.label}),a.exit().remove(),this._resetRoot&&(this._resetRoot=!1,this.root(this._dataNodes[0]))},a.prototype.arcTweenFunc=function(e){var i=t.interpolate(this._xScale.domain(),[e.x,e.x+e.dx]),n=t.interpolate(this._yScale.domain(),[e.y,1]),r=t.interpolate(this._yScale.range(),[e.y?20:0,this.radius]),a=this;return function(t,e){return e?function(e){return a.arc(t)}:function(e){return a._xScale.domain(i(e)),a._yScale.domain(n(e)).range(r(e)),a.arc(t)}}},a}),function(t){var e=document,i="appendChild",n="styleSheet",r=e.createElement("style");r.type="text/css",e.getElementsByTagName("head")[0][i](r),r[n]?r[n].cssText=t:r[i](e.createTextNode(t))}(".tree_CirclePacking circle{fill:#1f77b4;fill-opacity:.25;stroke:#1f77b4;stroke-width:1px}.tree_CirclePacking .leaf circle{fill:#ff7f0e;fill-opacity:1}.tree_CirclePacking .label{fill:#fff;text-anchor:middle}.tree_Dendrogram .node circle{fill:#dcf1ff;stroke:#1f77b4;stroke-width:1px}.tree_Dendrogram .link{fill:none;stroke:#656565;stroke-width:1px}.tree_Sunburst path{stroke:#fff;stroke-width:.5px;fill-rule:evenodd}"),define("hpcc-viz-tree",function(){});