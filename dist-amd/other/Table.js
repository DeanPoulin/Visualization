(function(e,t){typeof define=="function"&&define.amd?define(["../common/HTMLWidget","../other/Paginator","css!./Table"],t):e.other_Table=t(e.common_HTMLWidget,e.other_Paginator)})(this,function(e,t){function n(){e.call(this),this._tag="div",this._columns=[],this._paginator=new t}return n.prototype=Object.create(e.prototype),n.prototype._class+=" other_Table",n.prototype.testData=function(){return this.columns(["Lat","Long","Pin"]).data([[37.665074,-122.384375,"green-dot.png"],[32.69068,-117.17854],[39.709455,-104.969859],[41.244123,-95.96161],[32.68898,-117.19204],[45.78649,-108.5266],[45.79618,-108.535652],[45.77432,-108.49437],[45.777062,-108.549835,"red-dot.png"]]),this},n.prototype.publish("pagination",!1,"boolean","enable or disable pagination",null,{tags:["Private"]}),n.prototype.publishProxy("itemsPerPage","_paginator"),n.prototype.publishProxy("pageNumber","_paginator","pageNumber",1),n.prototype.enter=function(t,n){e.prototype.enter.apply(this,arguments),this._parentElement.style("overflow","auto"),this.table=n.append("table"),this.thead=this.table.append("thead").append("tr"),this.tbody=this.table.append("tbody")},n.prototype.update=function(t,n){e.prototype.update.apply(this,arguments);var r=this,i=this.thead.selectAll("th").data(this._columns,function(e){return e});i.enter().append("th").text(function(e){return e}),i.exit().remove(),this.pagination()?(this._paginator.target()===null&&this._paginator.target(t),this._paginator.numItems(this._data.length),this._tNumPages=Math.ceil(this._paginator.numItems()/this.itemsPerPage())||1,this.pageNumber()>this._tNumPages&&this.pageNumber(1),this._paginator._onSelect=function(e,t){console.log("page: "+e),r.pageNumber(e),r.render();return}):this._paginator.numItems(0);var s=this.pageNumber()-1,o=this.itemsPerPage(),u=s*o,a=parseInt(s*o)+parseInt(o),f=null;this.pagination()?f=this._data.slice(u,a):f=this._data;var l=this.tbody.selectAll("tr").data(f);l.enter().append("tr").on("click",function(e){r.click(r.rowToObj(e))}),l.exit().remove();var c=l.selectAll("td").data(function(e,t){return e});c.enter().append("td"),c.text(function(e){return e instanceof String?e.trim():e}),c.exit().remove(),this._paginator.render()},n.prototype.exit=function(t,n){this._paginator.target(null),e.prototype.exit.apply(this,arguments)},n.prototype.click=function(e){},n});