(function(e,t){typeof define=="function"&&define.amd?define(["d3","./Table","../chart/MultiChart","../layout/Grid","css!./Legend"],t):e.other_Legend=t(e.d3,e.other_Table,e.chart_MultiChart,e.layout_Grid)})(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._columns=[]}return i.prototype=Object.create(t.prototype),i.prototype._class+=" other_Legend",i.prototype.testData=function(){var e=(new n).testData().chartType("AM_BAR");return(new r).setContent(0,0,e).setContent(0,1,this.targetWidget(e)).cellPadding(0)},i.prototype.targetWidget=function(e){function v(e){return'<div class="colorBlock" style="background-color:'+e+';"></div>'}function m(e){var t=e.toString().split(".")[0],n=e.toString().split(".")[1];while(/(\d+)(\d{3})/.test(t.toString()))t=t.toString().replace(/(\d+)(\d{3})/,"$1,$2");return typeof n!="undefined"?t+"."+n:t}var t=this,n=["Key","Label"],r=[],i=e.columns(),s=e._palette.toString().split("function ")[1].split("(")[0];if(s==="ordinal")for(var o in i)o>0&&r.push([v(e._palette(i[o])),i[o]]);else if(s==="rainbow"){var u=e._palette.colors().reverse(),a=u.length,f=e._dataMinWeight,l=e._dataMaxWeight;for(var c=0;c<a;c++){var h=parseInt((l-f)/a),p,d;c===0?(d=m(f+h*(c+1)),r.push([v(u[c]),"0 - "+d])):c+1===a?(p=m(f+h*c+1),r.push([v(u[c]),p+"+"])):(p=m(f+h*c+1),d=m(f+h*(c+1)),r.push([v(u[c]),p+" - "+d]))}}return t.columns(n),t.data(r),t._targetWidget=e,this},i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments),this.renderHtmlDataCells(!0),this.fixedHeader(!1),n.classed("other_Legend",!0)},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments);var r=this;typeof this._targetWidget!="undefined"&&this.targetWidget(this._targetWidget);var i=this.pageNumber()-1,s=this.itemsPerPage(),o=i*s,u=parseInt(i*s)+parseInt(s),a=null;this.pagination()?a=this._data.slice(o,u):a=this._data;var f=this.tbody.selectAll("tr").data(a);f.on("click",function(e,t){r.onClick(e,t)}).on("mouseover",function(e,t){r.onMouseOver(e,t)})},i.prototype.onClick=function(e,t){console.log("Legend onClick method"),console.log("rowData: "+e),console.log("rowIdx: "+t)},i.prototype.onMouseOver=function(e,t){console.log("Legend onMouseOver method"),console.log("rowData: "+e),console.log("rowIdx: "+t)},i});