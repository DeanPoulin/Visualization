!function(n,t){"function"==typeof define&&define.amd?define(["d3","colorbrewer"],t):n.common_Palette=t(n.d3)}(this,function(n){function t(n,t){if(!n)return e();var r=i[n];return r||(r=e(n,t),i[n]=r),r}function e(r,a){function u(n){return s(n)}if(!r)return["default"].concat(c.concat(o).concat(l));var s=null;if(a)s=n.scale.ordinal().range(a);else{if(c.indexOf(r)>=0)s=new n.scale[r];else if(l.indexOf(r)>=0){var f=[];switch(r){case"hpcc10":var d=e("default").colors();f=d.filter(function(n,t){return t%2?!0:!1});break;case"hpcc20":f=e("category10").colors().concat(e("hpcc10").colors())}s=n.scale.ordinal().range(f)}else if(o.indexOf(r)>0)for(var p=12;p>0;){if(colorbrewer[r][p]){s=n.scale.ordinal().range(colorbrewer[r][p]);break}--p}s||(s=n.scale.category20()),a=s.range()}return u.type=function(){return"ordinal"},u.id=function(n){return arguments.length?(r=n,u):r},u.colors=function(n){return arguments.length?(a=n,u):a},u.clone=function(n){return i[n]=e(n,this.colors()),i[n]},u.cloneNotExists=function(n){return i[n]?i[n]:this.clone(n)},u["switch"]=function(n,e){return r===n?this:arguments.length?t(n,e):t()},u}function r(n,t,e){if(!n)return a();var r=u[n];return r||(r=a(n,t),u[n]=r),r}function a(t,e,c){function l(n,t,e){return f.domain([t,e])(n)}if(!arguments.length){var i=["default"];for(var s in colorbrewer)-1===o.indexOf(s)&&i.push(s);return i}var f=null,d=e,p=function(t,e){e=e||32;var r=Math.ceil(e/(t.length-1)),a=[],c=null;return t.forEach(function(t){if(c)for(var e=n.scale.linear().domain([0,r]).range([c,t]).interpolate(n.interpolateLab),o=0;r>o;++o)a.push(e(o));c=t}),f=n.scale.quantize().domain([0,100]).range(a)};if(e)f=p(e,c);else{if(colorbrewer[t])for(var g=12;g>0;){if(colorbrewer[t][g]){f=p(colorbrewer[t][g]);break}--g}f||(f=p(colorbrewer.RdYlGn[11])),d=f.range()}return l.type=function(){return"rainbow"},l.id=function(n){return arguments.length?(t=n,l):t},l.colors=function(n){return arguments.length?(d=n,l):d},l.clone=function(n){return u[n]=a(n,this.color()),u[n]},l.cloneNotExists=function(n){return u[n]?u[n]:this.clone(n)},l["switch"]=function(n,e){return t===n?this:arguments.length?r(n,e):r()},l}var c=["category10","category20","category20b","category20c"],o=["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"],l=["hpcc10","hpcc20"],i={},u={},s=function(t,r,c,o,l){n.select(t).selectAll(".palette").data(e(),function(n){return n}).enter().append("span").attr("class","palette").attr("title",function(n){return n}).on("click",function(t){console.log(n.values(t.value).map(JSON.stringify).join("\n"))}).selectAll(".swatch").data(function(n){return e(n).colors()}).enter().append("span").attr("class","swatch").style("background-color",function(n){return n}),n.select(r).selectAll(".palette").data(a(),function(n){return n}).enter().append("span").attr("class","palette").attr("title",function(n){return n}).on("click",function(t){console.log(n.values(t.value).map(JSON.stringify).join("\n"))}).selectAll(".swatch2").data(function(n){return a(n).colors()}).enter().append("span").attr("class","swatch2").style("height","8px").style("background-color",function(n){return n});var i={id:o.join("_")+l,scale:a("custom",o,l)};n.select(c).selectAll(".palette").data([i],function(n){return n.id}).enter().append("span").attr("class","palette").attr("title",function(n){return"aaa"}).on("click",function(t){console.log(n.values(t.value).map(JSON.stringify).join("\n"))}).selectAll(".swatch2").data(function(n){for(var t=[],e=0;255>=e;++e)t.push(i.scale(e,0,255));return t}).enter().append("span").attr("class","swatch2").style("background-color",function(n){return n})};return{ordinal:t,rainbow:r,test:s}});